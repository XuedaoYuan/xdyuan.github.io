<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端程序员-Cloud</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="前端博客,cloud,frontend,xdyuan,xdyuan314@gmail.com">
    
    <link rel="preload" href="./assets/css/0.styles.09baae4d.css" as="style"><link rel="preload" href="./assets/js/app.e7c186d1.js" as="script"><link rel="preload" href="./assets/js/2.0202d757.js" as="script"><link rel="preload" href="./assets/js/75.6be361ca.js" as="script"><link rel="prefetch" href="./assets/js/10.e5ff73cd.js"><link rel="prefetch" href="./assets/js/100.1e8e1871.js"><link rel="prefetch" href="./assets/js/101.62254cdb.js"><link rel="prefetch" href="./assets/js/102.da0722e6.js"><link rel="prefetch" href="./assets/js/103.0d2e3218.js"><link rel="prefetch" href="./assets/js/104.233c0233.js"><link rel="prefetch" href="./assets/js/105.450b043e.js"><link rel="prefetch" href="./assets/js/106.4a9f6158.js"><link rel="prefetch" href="./assets/js/107.52b43349.js"><link rel="prefetch" href="./assets/js/108.227ce70b.js"><link rel="prefetch" href="./assets/js/109.ed79bcc4.js"><link rel="prefetch" href="./assets/js/11.6bfaef9c.js"><link rel="prefetch" href="./assets/js/110.4f222b59.js"><link rel="prefetch" href="./assets/js/111.61fb0eec.js"><link rel="prefetch" href="./assets/js/112.8ddc51cc.js"><link rel="prefetch" href="./assets/js/113.bf351d39.js"><link rel="prefetch" href="./assets/js/114.89b06bc0.js"><link rel="prefetch" href="./assets/js/115.f43e92b0.js"><link rel="prefetch" href="./assets/js/116.dc54d772.js"><link rel="prefetch" href="./assets/js/117.d7e3f1c3.js"><link rel="prefetch" href="./assets/js/118.c5f73f8a.js"><link rel="prefetch" href="./assets/js/119.dafc9bc4.js"><link rel="prefetch" href="./assets/js/12.8d27eee0.js"><link rel="prefetch" href="./assets/js/13.9e08533c.js"><link rel="prefetch" href="./assets/js/14.def7f8c9.js"><link rel="prefetch" href="./assets/js/15.292d73e0.js"><link rel="prefetch" href="./assets/js/16.9927a2af.js"><link rel="prefetch" href="./assets/js/17.2bb4e025.js"><link rel="prefetch" href="./assets/js/18.28dd398e.js"><link rel="prefetch" href="./assets/js/19.a50938b6.js"><link rel="prefetch" href="./assets/js/20.c2a92048.js"><link rel="prefetch" href="./assets/js/21.b5476db8.js"><link rel="prefetch" href="./assets/js/22.6847e3fc.js"><link rel="prefetch" href="./assets/js/23.072c8789.js"><link rel="prefetch" href="./assets/js/24.aae6fd93.js"><link rel="prefetch" href="./assets/js/25.55a7ba88.js"><link rel="prefetch" href="./assets/js/26.0b37ece6.js"><link rel="prefetch" href="./assets/js/27.87edd656.js"><link rel="prefetch" href="./assets/js/28.249f310e.js"><link rel="prefetch" href="./assets/js/29.bfdcb671.js"><link rel="prefetch" href="./assets/js/3.1ee533a3.js"><link rel="prefetch" href="./assets/js/30.ee930afa.js"><link rel="prefetch" href="./assets/js/31.204fd735.js"><link rel="prefetch" href="./assets/js/32.b2f57762.js"><link rel="prefetch" href="./assets/js/33.1831e793.js"><link rel="prefetch" href="./assets/js/34.97dc2e79.js"><link rel="prefetch" href="./assets/js/35.701d3a8f.js"><link rel="prefetch" href="./assets/js/36.ce42227b.js"><link rel="prefetch" href="./assets/js/37.c0b75b7a.js"><link rel="prefetch" href="./assets/js/38.936c9bcb.js"><link rel="prefetch" href="./assets/js/39.9418cd37.js"><link rel="prefetch" href="./assets/js/4.61bc51a9.js"><link rel="prefetch" href="./assets/js/40.b659071b.js"><link rel="prefetch" href="./assets/js/41.4b9b4607.js"><link rel="prefetch" href="./assets/js/42.d677ac9e.js"><link rel="prefetch" href="./assets/js/43.46cc5a17.js"><link rel="prefetch" href="./assets/js/44.a530e575.js"><link rel="prefetch" href="./assets/js/45.cc546b6b.js"><link rel="prefetch" href="./assets/js/46.da913f45.js"><link rel="prefetch" href="./assets/js/47.5d1604ce.js"><link rel="prefetch" href="./assets/js/48.98384c4a.js"><link rel="prefetch" href="./assets/js/49.3c85d030.js"><link rel="prefetch" href="./assets/js/5.b6cbdf95.js"><link rel="prefetch" href="./assets/js/50.e03270b9.js"><link rel="prefetch" href="./assets/js/51.6611a087.js"><link rel="prefetch" href="./assets/js/52.61302de3.js"><link rel="prefetch" href="./assets/js/53.ab077289.js"><link rel="prefetch" href="./assets/js/54.6dba899f.js"><link rel="prefetch" href="./assets/js/55.6cece0c7.js"><link rel="prefetch" href="./assets/js/56.a0d98774.js"><link rel="prefetch" href="./assets/js/57.a8c89d50.js"><link rel="prefetch" href="./assets/js/58.90311cf2.js"><link rel="prefetch" href="./assets/js/59.bd4824af.js"><link rel="prefetch" href="./assets/js/6.aa0b31ac.js"><link rel="prefetch" href="./assets/js/60.1a4a80d1.js"><link rel="prefetch" href="./assets/js/61.85eae681.js"><link rel="prefetch" href="./assets/js/62.99ee7a31.js"><link rel="prefetch" href="./assets/js/63.1cde4039.js"><link rel="prefetch" href="./assets/js/64.372d643e.js"><link rel="prefetch" href="./assets/js/65.fd9b814f.js"><link rel="prefetch" href="./assets/js/66.6900e388.js"><link rel="prefetch" href="./assets/js/67.698ed578.js"><link rel="prefetch" href="./assets/js/68.a760b390.js"><link rel="prefetch" href="./assets/js/69.556e88cc.js"><link rel="prefetch" href="./assets/js/7.b99a569f.js"><link rel="prefetch" href="./assets/js/70.b5fc18f7.js"><link rel="prefetch" href="./assets/js/71.443ea46f.js"><link rel="prefetch" href="./assets/js/72.487dc914.js"><link rel="prefetch" href="./assets/js/73.9d5b896a.js"><link rel="prefetch" href="./assets/js/74.4d75ed8c.js"><link rel="prefetch" href="./assets/js/76.c2efa596.js"><link rel="prefetch" href="./assets/js/77.30b85f49.js"><link rel="prefetch" href="./assets/js/78.a76c4b5a.js"><link rel="prefetch" href="./assets/js/79.ea8f7994.js"><link rel="prefetch" href="./assets/js/8.527fb7c1.js"><link rel="prefetch" href="./assets/js/80.cc689d4a.js"><link rel="prefetch" href="./assets/js/81.16208bf4.js"><link rel="prefetch" href="./assets/js/82.b87d7949.js"><link rel="prefetch" href="./assets/js/83.13371087.js"><link rel="prefetch" href="./assets/js/84.089be50f.js"><link rel="prefetch" href="./assets/js/85.38d225f0.js"><link rel="prefetch" href="./assets/js/86.1e7eb323.js"><link rel="prefetch" href="./assets/js/87.af1f11be.js"><link rel="prefetch" href="./assets/js/88.7dd1b625.js"><link rel="prefetch" href="./assets/js/89.8458d2c7.js"><link rel="prefetch" href="./assets/js/9.8b75f5e9.js"><link rel="prefetch" href="./assets/js/90.a2584d15.js"><link rel="prefetch" href="./assets/js/91.ff533d16.js"><link rel="prefetch" href="./assets/js/92.e593416b.js"><link rel="prefetch" href="./assets/js/93.a8f4c390.js"><link rel="prefetch" href="./assets/js/94.48a66df5.js"><link rel="prefetch" href="./assets/js/95.5fc0aca2.js"><link rel="prefetch" href="./assets/js/96.26935bd1.js"><link rel="prefetch" href="./assets/js/97.c110472c.js"><link rel="prefetch" href="./assets/js/98.49eee4fd.js"><link rel="prefetch" href="./assets/js/99.3e92339b.js">
    <link rel="stylesheet" href="./assets/css/0.styles.09baae4d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/./" class="home-link router-link-active"><!----> <span class="site-name">前端程序员-Cloud</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/XuedaoYuan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/XuedaoYuan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端基础知识</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端常用功能</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/./usualjs/" class="sidebar-link">常用JS功能</a></li><li><a href="/./easy2forgetcss/" class="sidebar-link">常用CSS记录</a></li><li><a href="/./usualutils/" class="sidebar-link">常用工具函数</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>综合知识</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>基础算法题解</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/./tools/" class="sidebar-link">常用三方库</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue3</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SolidJs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>网络基础</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/./osi/" class="sidebar-link">OSI 七层模型</a></li><li><a href="/./http/" class="sidebar-link">关于HTTP</a></li><li><a href="/./httpcache/" class="sidebar-link">HTTP缓存</a></li><li><a href="/./cookie/" class="sidebar-link">HTTP Cookie</a></li><li><a href="/./https/" class="sidebar-link">关于HTTPS</a></li><li><a href="/./cors/" class="sidebar-link">跨域问题</a></li><li><a href="/./httpheaders/" aria-current="page" class="active sidebar-link">http常用请求头</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/./httpheaders/#_1、简介" class="sidebar-link">1、简介</a></li><li class="sidebar-sub-header"><a href="/./httpheaders/#_2、验证" class="sidebar-link">2、验证</a></li><li class="sidebar-sub-header"><a href="/./httpheaders/#_3、缓存相关" class="sidebar-link">3、缓存相关</a></li><li class="sidebar-sub-header"><a href="/./httpheaders/#_4、条件" class="sidebar-link">4、条件</a></li><li class="sidebar-sub-header"><a href="/./httpheaders/#_5、连接管理" class="sidebar-link">5、连接管理</a></li><li class="sidebar-sub-header"><a href="/./httpheaders/#_6、内容协商" class="sidebar-link">6、内容协商</a></li><li class="sidebar-sub-header"><a href="/./httpheaders/#_7、cookie" class="sidebar-link">7、Cookie</a></li><li class="sidebar-sub-header"><a href="/./httpheaders/#_8、cors跨域" class="sidebar-link">8、CORS跨域</a></li><li class="sidebar-sub-header"><a href="/./httpheaders/#_9、下载" class="sidebar-link">9、下载</a></li><li class="sidebar-sub-header"><a href="/./httpheaders/#_10、消息主体信息" class="sidebar-link">10、消息主体信息</a></li><li class="sidebar-sub-header"><a href="/./httpheaders/#_11、重定向" class="sidebar-link">11、重定向</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工具学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>VuePress 基本语法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>预备学习</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p></p><div class="table-of-contents"><ul><li><a href="#_1、简介">1、简介</a></li><li><a href="#_2、验证">2、验证</a><ul><li><a href="#_2-1-www-authenticate">2.1 WWW-Authenticate</a></li><li><a href="#_2-2-authorization">2.2 Authorization</a></li></ul></li><li><a href="#_3、缓存相关">3、缓存相关</a><ul><li><a href="#_3-1-age">3.1 Age</a></li><li><a href="#_3-2-cache-control">3.2 Cache-Control</a></li></ul></li><li><a href="#_4、条件">4、条件</a><ul><li><a href="#_4-1-last-modified">4.1 Last-Modified</a></li><li><a href="#_4-2-etag">4.2 ETag</a></li><li><a href="#_4-3-if-match">4.3 If-Match</a></li><li><a href="#_4-4-if-none-match">4.4 If-None-Match</a></li><li><a href="#_4-5、if-modified-since">4.5、If-Modified-Since</a></li></ul></li><li><a href="#_5、连接管理">5、连接管理</a><ul><li><a href="#_5-1-connection">5.1 Connection</a></li><li><a href="#_5-2-keep-alive">5.2 Keep-Alive</a></li></ul></li><li><a href="#_6、内容协商">6、内容协商</a><ul><li><a href="#_6-1-accept">6.1 Accept</a></li><li><a href="#_6-2-accept-encoding">6.2 Accept-Encoding</a></li><li><a href="#_6-3-accept-language">6.3 Accept-Language</a></li></ul></li><li><a href="#_7、cookie">7、Cookie</a><ul><li><a href="#_7-1-cookie">7.1 Cookie</a></li><li><a href="#_7-2-set-cookie">7.2 Set-Cookie</a></li></ul></li><li><a href="#_8、cors跨域">8、CORS跨域</a><ul><li><a href="#_8-1-access-control-allow-origin">8.1 Access-Control-Allow-Origin</a></li><li><a href="#_8-2-access-control-allow-credentials">8.2 Access-Control-Allow-Credentials</a></li><li><a href="#_8-3-access-control-allow-headers">8.3 Access-Control-Allow-Headers</a></li><li><a href="#_8-4-access-control-allow-methods">8.4 Access-Control-Allow-Methods</a></li><li><a href="#_8-5-access-control-expose-headers">8.5 Access-Control-Expose-Headers</a></li><li><a href="#_8-6-access-control-max-age">8.6 Access-Control-Max-Age</a></li><li><a href="#_8-7-access-control-request-headers">8.7 Access-Control-Request-Headers</a></li><li><a href="#_8-8-access-control-request-method">8.8 Access-Control-Request-Method</a></li><li><a href="#_8-9-origin">8.9 Origin</a></li></ul></li><li><a href="#_9、下载">9、下载</a><ul><li><a href="#_9-1-content-disposition">9.1 Content-Disposition</a></li></ul></li><li><a href="#_10、消息主体信息">10、消息主体信息</a><ul><li><a href="#_10-1-content-length">10.1 Content-Length</a></li><li><a href="#_10-2-content-type">10.2 Content-Type</a></li><li><a href="#_10-3-content-encoding">10.3 Content-Encoding</a></li><li><a href="#_10-4-content-language">10.4 Content-Language</a></li><li><a href="#_10-5-content-location">10.5 Content-Location</a></li></ul></li><li><a href="#_11、重定向">11、重定向</a><ul><li><a href="#_11-1-location">11.1 Location</a></li></ul></li></ul></div><p></p> <h1 id="http-headers"><a href="#http-headers" class="header-anchor">#</a> HTTP Headers</h1> <h2 id="_1、简介"><a href="#_1、简介" class="header-anchor">#</a> 1、简介</h2> <p>HTTP header允许客户端和服务器通过 HTTP 请求（request）或者响应（response）传递附加信息。一个 HTTP 标头由它的名称（不区分大小写）后跟随一个冒号（<code>:</code>），冒号后跟随它具体的值。</p> <p>根据不同的消息上下文，标头可以分为：</p> <ul><li>[请求标头]包含有关要获取的资源或客户端或请求资源的客户端的更多信息。</li> <li>[响应标头]包含有关响应的额外信息，例如响应的位置或者提供响应的服务器。</li> <li>[表示标头]包含资源主体的信息，例如主体的 [MIME 类型]或者应用的编码/压缩方案。</li> <li>[有效负荷标头]包含有关有效载荷数据表示的单独信息，包括内容长度和用于传输的编码。</li></ul> <p>头部信息的内容比较多， 只记录一些用过或者常用的意思。</p> <h2 id="_2、验证"><a href="#_2、验证" class="header-anchor">#</a> 2、验证</h2> <h3 id="_2-1-www-authenticate"><a href="#_2-1-www-authenticate" class="header-anchor">#</a> 2.1 WWW-Authenticate</h3> <p>定义应该用于访问资源的身份验证方法。HTTP <strong><code>WWW-Authenticate</code></strong> 响应标头定义了 [HTTP 身份验证]的方法（“质询”），它用于获取特定资源的访问权限。
通俗的认为就是这是一个响应头 ， 用于告知客户端可以用何种方式来获取需认证的资源。</p> <h3 id="_2-2-authorization"><a href="#_2-2-authorization" class="header-anchor">#</a> 2.2 Authorization</h3> <p>HTTP <strong><code>Authorization</code></strong> 请求标头用于提供服务器验证用户代理身份的凭据，允许访问受保护的资源。这个请求头就是用于请求需认证资源。比如你是token认证机制的设计， 你的Token就可以作为值放在这个头上传输</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token header"><span class="token header-name keyword">Authorization</span><span class="token punctuation">:</span> <span class="token header-value">Basic &lt;token&gt;</span></span>
</code></pre></div><h2 id="_3、缓存相关"><a href="#_3、缓存相关" class="header-anchor">#</a> 3、缓存相关</h2> <p>缓存相关的头可以查看文章<a href="/./httpcache/">http缓存</a></p> <h3 id="_3-1-age"><a href="#_3-1-age" class="header-anchor">#</a> 3.1 Age</h3> <p><strong><code>Age</code></strong> 消息头里包含对象在缓存代理中存贮的时长，以秒为单位。.</p> <h3 id="_3-2-cache-control"><a href="#_3-2-cache-control" class="header-anchor">#</a> 3.2 Cache-Control</h3> <p><strong><code>Cache-Control</code></strong> 通用消息头字段，被用于在 http 请求和响应中，通过指定指令来实现缓存机制。缓存指令是单向的，这意味着在请求中设置的指令，不一定被包含在响应中。</p> <h2 id="_4、条件"><a href="#_4、条件" class="header-anchor">#</a> 4、条件</h2> <h3 id="_4-1-last-modified"><a href="#_4-1-last-modified" class="header-anchor">#</a> 4.1 Last-Modified</h3> <p>资源的最后修改日期，用于比较同一个资源的多个版本。它不如 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/ETag" target="_blank" rel="noopener noreferrer"><code>ETag</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 准确，但在某些环境中更容易计算</p> <h3 id="_4-2-etag"><a href="#_4-2-etag" class="header-anchor">#</a> 4.2 ETag</h3> <p>标识资源版本的唯一字符串。</p> <p>使用 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/If-Match" target="_blank" rel="noopener noreferrer"><code>If-Match</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 和 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/If-None-Match" target="_blank" rel="noopener noreferrer"><code>If-None-Match</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 的条件请求使用此值来更改请求的行为。</p> <h3 id="_4-3-if-match"><a href="#_4-3-if-match" class="header-anchor">#</a> 4.3 If-Match</h3> <p>使请求有条件，并且仅当存储的资源与给定的 ETag 之一匹配时才应用该方法。</p> <p>请求首部 <strong><code>If-Match</code></strong> 的使用表示这是一个条件请求。在请求方法为 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Methods/GET" target="_blank" rel="noopener noreferrer"><code>GET</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 和 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Methods/HEAD" target="_blank" rel="noopener noreferrer"><code>HEAD</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 的情况下，服务器仅在请求的资源满足此首部列出的 <code>ETag</code>值时才会返回资源。而对于 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Methods/PUT" target="_blank" rel="noopener noreferrer"><code>PUT</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 或其他非安全方法来说，只有在满足条件的情况下才可以将资源上传。</p> <h3 id="_4-4-if-none-match"><a href="#_4-4-if-none-match" class="header-anchor">#</a> 4.4 If-None-Match</h3> <p><strong><code>If-None-Match</code></strong> 是一个条件式请求首部。对于 GET<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Methods/GET" target="_blank" rel="noopener noreferrer"><code>GET</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 和 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Methods/HEAD" target="_blank" rel="noopener noreferrer"><code>HEAD</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 请求方法来说，当且仅当服务器上没有任何资源的 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/ETag" target="_blank" rel="noopener noreferrer"><code>ETag</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 属性值与这个首部中列出的相匹配的时候，服务器端才会返回所请求的资源，响应码为 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status/200" target="_blank" rel="noopener noreferrer"><code>200</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 。对于其他方法来说，当且仅当最终确认没有已存在的资源的 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/ETag" target="_blank" rel="noopener noreferrer"><code>ETag</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 属性值与这个首部中所列出的相匹配的时候，才会对请求进行相应的处理。</p> <p>对于 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Methods/GET" target="_blank" rel="noopener noreferrer"><code>GET</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 和 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Methods/HEAD" target="_blank" rel="noopener noreferrer"><code>HEAD</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 方法来说，当验证失败的时候，服务器端必须返回响应码 304（Not Modified，未改变）</p> <h3 id="_4-5、if-modified-since"><a href="#_4-5、if-modified-since" class="header-anchor">#</a> 4.5、If-Modified-Since</h3> <p>使请求有条件，并期望只有在给定日期后修改资源时才请求传输资源，也就是状态码是200， 返回最新一份的资源。仅当缓存过期时才用于传输数据。
如果请求的资源从那时起未经修改，那么返回一个不带有消息主体的 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status/304" target="_blank" rel="noopener noreferrer"><code>304</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 响应，而在 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Last-Modified" target="_blank" rel="noopener noreferrer"><code>Last-Modified</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 首部中会带有上次修改时间。</p> <h2 id="_5、连接管理"><a href="#_5、连接管理" class="header-anchor">#</a> 5、连接管理</h2> <h3 id="_5-1-connection"><a href="#_5-1-connection" class="header-anchor">#</a> 5.1 Connection</h3> <p><strong><code>Connection</code></strong> 通用标头控制网络连接在当前会话完成后是否仍然保持打开状态。如果发送的值是 <code>keep-alive</code>，则连接是持久的，不会关闭，允许对同一服务器进行后续请求。</p> <h3 id="_5-2-keep-alive"><a href="#_5-2-keep-alive" class="header-anchor">#</a> 5.2 Keep-Alive</h3> <p><strong><code>Keep-Alive</code></strong> 是一个通用消息头，允许消息发送者暗示连接的状态，还可以用来设置超时时长和最大请求数。</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK</span></span>
<span class="token header"><span class="token header-name keyword">Connection</span><span class="token punctuation">:</span> <span class="token header-value">Keep-Alive</span></span>
<span class="token header"><span class="token header-name keyword">Content-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">gzip</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">text/html; charset=utf-8</span></span>
<span class="token header"><span class="token header-name keyword">Date</span><span class="token punctuation">:</span> <span class="token header-value">Thu, 11 Aug 2016 15:23:13 GMT</span></span>
<span class="token header"><span class="token header-name keyword">Keep-Alive</span><span class="token punctuation">:</span> <span class="token header-value">timeout=5, max=1000</span></span>
</code></pre></div><h2 id="_6、内容协商"><a href="#_6、内容协商" class="header-anchor">#</a> 6、内容协商</h2> <h3 id="_6-1-accept"><a href="#_6-1-accept" class="header-anchor">#</a> 6.1 Accept</h3> <p><strong><code>Accept</code></strong> 请求头用来告知（服务器）客户端可以处理的内容类型，这种内容类型用<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Basics_of_HTTP/MIME_types" target="_blank" rel="noopener noreferrer">MIME 类型<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>来表示。借助<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Content_negotiation" target="_blank" rel="noopener noreferrer">内容协商机制<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, 服务器可以从诸多备选项中选择一项进行应用，并使用 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Content-Type" target="_blank" rel="noopener noreferrer"><code>Content-Type</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 应答头通知客户端它的选择。浏览器会基于请求的上下文来为这个请求头设置合适的值，比如获取一个 CSS 层叠样式表时值与获取图片、视频或脚本文件时的值是不同的。</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token header"><span class="token header-name keyword">Accept</span><span class="token punctuation">:</span> <span class="token header-value">text/html, application/xhtml+xml, application/xml;q=0.9, */*;q=0.8</span></span>
</code></pre></div><h3 id="_6-2-accept-encoding"><a href="#_6-2-accept-encoding" class="header-anchor">#</a> 6.2 Accept-Encoding</h3> <p>HTTP 请求头 <strong>Accept-Encoding</strong> 会将客户端能够理解的内容编码方式——通常是某种压缩算法——进行通知（给服务端）。通过内容协商的方式，服务端会选择一个客户端提议的方式，使用并在响应头 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Content-Encoding" target="_blank" rel="noopener noreferrer"><code>Content-Encoding</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 中通知客户端该选择。</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token header"><span class="token header-name keyword">Accept-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">gzip</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">compress</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">deflate</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">br</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">identity</span></span>
<span class="token header"><span class="token header-name keyword">Accept-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">*</span></span>
</code></pre></div><h3 id="_6-3-accept-language"><a href="#_6-3-accept-language" class="header-anchor">#</a> 6.3 Accept-Language</h3> <p><strong><code>Accept-Language</code></strong> 请求头允许客户端声明它可以理解的自然语言，以及优先选择的区域方言</p> <p>以上基本都是<strong>客户端</strong>告诉<strong>服务器</strong>自己可以接受什么形式内容。</p> <h2 id="_7、cookie"><a href="#_7、cookie" class="header-anchor">#</a> 7、Cookie</h2> <p>关于cookie可以查看<a href="/./cookie/">Cookie</a></p> <h3 id="_7-1-cookie"><a href="#_7-1-cookie" class="header-anchor">#</a> 7.1 Cookie</h3> <p>包含先前由服务器使用 <code>Set-Cookie</code> 标头发送存储的 HTTP cookie</p> <h3 id="_7-2-set-cookie"><a href="#_7-2-set-cookie" class="header-anchor">#</a> 7.2 Set-Cookie</h3> <p>将 cookie 从服务器发送到用户代理。</p> <h2 id="_8、cors跨域"><a href="#_8、cors跨域" class="header-anchor">#</a> 8、CORS跨域</h2> <p>有比较多概念，比如简单请求，预检请求，可以查看<a href="/./cors/">CORS</a></p> <h3 id="_8-1-access-control-allow-origin"><a href="#_8-1-access-control-allow-origin" class="header-anchor">#</a> 8.1 Access-Control-Allow-Origin</h3> <p>这是一个响应头， 告诉浏览器此次响应资源可以被共享。 也就是跨域的时候， 服务器会返回这个头部信息， 值域可以是<code>*</code>，也可以是发送方的域名。</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token header"><span class="token header-name keyword">Access-Control-Allow-Origin</span><span class="token punctuation">:</span> <span class="token header-value">https://xdyuan.cn/</span></span>
</code></pre></div><p>指定一个来源（只能指定一个）。如果服务器支持多个来源的客户端，其必须以与指定客户端匹配的来源来响应请求。</p> <p>如果要将将可能的 <code>Access-Control-Allow-Origin</code> 值限制在一组允许的源，需要服务器端的代码检查 <code>Origin</code>请求标头的值，将其与允许的来源列表进行比较，如果 <code>Origin</code> 值在列表中，将 <code>Access-Control-Allow-Origin</code> 设置为与 <code>Origin</code>标头相同的值。</p> <h3 id="_8-2-access-control-allow-credentials"><a href="#_8-2-access-control-allow-credentials" class="header-anchor">#</a> 8.2 Access-Control-Allow-Credentials</h3> <p><strong><code>Access-Control-Allow-Credentials</code></strong> <strong>响应头</strong>用于在请求要求包含 credentials（<code>Request.credentials</code> 的值为 <code>include</code>）时，告知浏览器是否可以将对请求的响应暴露给前端 JavaScript 代码。</p> <p>浏览器仅在响应标头 <code>Access-Control-Allow-Credentials</code> 的值为 <code>true</code> 的情况下将响应暴露给前端的 JavaScript 代码。</p> <p>当作为对预检请求的响应的一部分时，这能表示是否真正的请求可以使用 credentials。注意简单的<code>GET</code>请求没有预检，所以若一个对资源的请求带了 credentials，如果这个响应头没有随资源返回，响应就会被浏览器忽视，不会返回到 web 内容。</p> <p><code>Access-Control-Allow-Credentials</code> 标头需要与 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/withCredentials" target="_blank" rel="noopener noreferrer"><code>XMLHttpRequest.withCredentials</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 或 Fetch API 的 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Request/Request" target="_blank" rel="noopener noreferrer"><code>Request()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 构造函数中的 <code>credentials</code> 选项结合使用。Credentials 必须在前后端都被配置（即 <code>Access-Control-Allow-Credentials</code> header 和 XHR 或 Fetch request 中都要配置）才能使带 credentials 的 CORS 请求成功。</p> <h3 id="_8-3-access-control-allow-headers"><a href="#_8-3-access-control-allow-headers" class="header-anchor">#</a> 8.3 Access-Control-Allow-Headers</h3> <p>响应头 <code>Access-Control-Allow-Headers</code>主要用于在预检请求中，指示真实请求可以使用的首部信息。</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token header"><span class="token header-name keyword">Access-Control-Allow-Headers</span><span class="token punctuation">:</span> <span class="token header-value">&lt;header-name&gt;[, &lt;header-name&gt;]*</span></span>
<span class="token header"><span class="token header-name keyword">Access-Control-Allow-Headers</span><span class="token punctuation">:</span> <span class="token header-value">*</span></span>
</code></pre></div><h3 id="_8-4-access-control-allow-methods"><a href="#_8-4-access-control-allow-methods" class="header-anchor">#</a> 8.4 Access-Control-Allow-Methods</h3> <p>指定对<strong>预检请求的响应</strong>中，哪些 HTTP 方法允许访问请求的资源。</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token header"><span class="token header-name keyword">Access-Control-Allow-Methods</span><span class="token punctuation">:</span> <span class="token header-value">POST, GET, OPTIONS</span></span>
</code></pre></div><h3 id="_8-5-access-control-expose-headers"><a href="#_8-5-access-control-expose-headers" class="header-anchor">#</a> 8.5 Access-Control-Expose-Headers</h3> <p>响应标头 <strong><code>Access-Control-Expose-Headers</code></strong> 允许服务器指示那些响应标头可以暴露给浏览器中运行的脚本，以响应跨源请求。</p> <h3 id="_8-6-access-control-max-age"><a href="#_8-6-access-control-max-age" class="header-anchor">#</a> 8.6 Access-Control-Max-Age</h3> <p>指示预检请求的结果能被缓存多久。</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token header"><span class="token header-name keyword">Access-Control-Max-Age</span><span class="token punctuation">:</span> <span class="token header-value">&lt;delta-seconds&gt;</span></span>
</code></pre></div><p><code>delta-seconds</code> 返回结果可以被缓存的最长时间（秒）</p> <p>上限是24小时， 不同浏览器有些差异，默认值是5秒</p> <h3 id="_8-7-access-control-request-headers"><a href="#_8-7-access-control-request-headers" class="header-anchor">#</a> 8.7 Access-Control-Request-Headers</h3> <p>用于发起一个预检请求，告知服务器正式请求会使用哪些 HTTP 标头。</p> <h3 id="_8-8-access-control-request-method"><a href="#_8-8-access-control-request-method" class="header-anchor">#</a> 8.8 Access-Control-Request-Method</h3> <p>用于发起一个预检请求，告知服务器正式请求会使用哪一种HTTP方法</p> <h3 id="_8-9-origin"><a href="#_8-9-origin" class="header-anchor">#</a> 8.9 Origin</h3> <p>指示获取资源的请求是从什么源发起的。</p> <h2 id="_9、下载"><a href="#_9、下载" class="header-anchor">#</a> 9、下载</h2> <h3 id="_9-1-content-disposition"><a href="#_9-1-content-disposition" class="header-anchor">#</a> 9.1 Content-Disposition</h3> <p>在常规的 HTTP 应答中，<strong><code>Content-Disposition</code></strong> <strong>响应标头</strong>指示回复的内容该以何种形式展示，是以<em>内联</em>的形式（即网页或者页面的一部分），还是以<em>附件</em>的形式下载并保存到本地。</p> <p>在 <code>multipart/form-data</code> 类型的应答消息体中，<strong><code>Content-Disposition</code></strong> 通用标头可以被用在 multipart 消息体的子部分中，用来给出其对应字段的相关信息。各个子部分由在 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Content-Type" target="_blank" rel="noopener noreferrer"><code>Content-Type</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 中定义的<em>边界</em>（boundary）分隔。用在消息体自身则无实际意义。</p> <p><code>Content-Disposition</code> 标头最初是在 MIME 标准中定义的，HTTP 表单及 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Methods/POST" target="_blank" rel="noopener noreferrer"><code>POST</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 请求只用到了其所有参数的一个子集。只有 <code>form-data</code> 以及可选的 <code>name</code> 和 <code>filename</code> 三个参数可以应用在 HTTP 上下文中。</p> <p>作为消息主体的标头，在 HTTP 场景中，第一个参数或者是 <code>inline</code>（默认值，表示回复中的消息体会以页面的一部分或者整个页面的形式展示），或者是 <code>attachment</code>（意味着消息体应该被下载到本地；大多数浏览器会呈现一个“保存为”的对话框，将 <code>filename</code> 的值预填为下载后的文件名，假如它存在的话）。</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token header"><span class="token header-name keyword">Content-Disposition</span><span class="token punctuation">:</span> <span class="token header-value">inline</span></span>
<span class="token header"><span class="token header-name keyword">Content-Disposition</span><span class="token punctuation">:</span> <span class="token header-value">attachment</span></span>
<span class="token header"><span class="token header-name keyword">Content-Disposition</span><span class="token punctuation">:</span> <span class="token header-value">attachment; filename=&quot;filename.jpg&quot;</span></span>
</code></pre></div><p>作为多部分主题的表头，当使用 <code>multipart/form-data</code> 格式提交表单数据时，每个子部分（例如每个表单字段和任何与字段数据相关的文件）都需要提供一个 <code>Content-Disposition</code> 标头，以提供相关信息。标头的第一个指令始终为 <code>form-data</code>，并且还<em>必须</em>包含一个 <code>name</code> 参数来标识相关字段。额外的指令不区分大小写，并使用带引号的字符串语法在 <code>=</code> 号后面指定参数。多个参数之间使用分号（<code>;</code>）分隔。</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token header"><span class="token header-name keyword">Content-Disposition</span><span class="token punctuation">:</span> <span class="token header-value">form-data; name=&quot;fieldName&quot;</span></span>
<span class="token header"><span class="token header-name keyword">Content-Disposition</span><span class="token punctuation">:</span> <span class="token header-value">form-data; name=&quot;fieldName&quot;; filename=&quot;filename.jpg&quot;</span></span>
</code></pre></div><p>根据响应头截取文件名</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getFileNameFromContentDisposition</span><span class="token punctuation">(</span><span class="token parameter">disposition</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>disposition<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> filename <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
  disposition <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>disposition<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">/* 
  &quot;filename&quot; 和 &quot;filename*&quot; 两个参数的唯一区别在于，&quot;filename*&quot; 采用了  RFC 5987 中规定的编码方式。当 &quot;filename&quot; 和 &quot;filename*&quot; 同时出现的时候，应该优先采用 &quot;filename*&quot;，假如二者都支持的话。
  */</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>disposition<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'attachment'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> filenameRegex1 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">filename[^;=\n]*=((['&quot;]).*?\2|[^;\n]*)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> filenameRegex2 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">filename\*?=([^']*'')?([^;]*)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> matches1 <span class="token operator">=</span> filenameRegex1<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>disposition<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> matches2 <span class="token operator">=</span> filenameRegex2<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>disposition<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>matches2 <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> matches2<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      filename <span class="token operator">=</span> matches2<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>matches1 <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> matches1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      filename <span class="token operator">=</span> matches1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>filename<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      filename <span class="token operator">=</span> filename<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">['&quot;]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> filename<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_10、消息主体信息"><a href="#_10、消息主体信息" class="header-anchor">#</a> 10、消息主体信息</h2> <p>以下都是一些响应主体的头部信息</p> <h3 id="_10-1-content-length"><a href="#_10-1-content-length" class="header-anchor">#</a> 10.1 Content-Length</h3> <p><strong><code>Content-Length</code></strong> 是一个实体消息首部，用来指明发送给接收方的消息主体的大小，即用十进制数字表示的八位元组的数目。</p> <h3 id="_10-2-content-type"><a href="#_10-2-content-type" class="header-anchor">#</a> 10.2 Content-Type</h3> <p><strong><code>Content-Type</code></strong> 实体头部用于指示资源的 MIME 类型。表明媒体类型。</p> <p>在响应中，Content-Type 标头告诉客户端实际返回的内容的内容类型。浏览器会在某些情况下进行 MIME 查找，并不一定遵循此标题的值; 为了防止这种行为，可以将标题 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/X-Content-Type-Options" target="_blank" rel="noopener noreferrer"><code>X-Content-Type-Options</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 设置为 <strong>nosniff</strong>。</p> <h3 id="_10-3-content-encoding"><a href="#_10-3-content-encoding" class="header-anchor">#</a> 10.3 Content-Encoding</h3> <p><strong><code>Content-Encoding</code></strong> 列出了对当前实体消息（消息荷载）应用的任何编码类型，以及编码的顺序。它让接收者知道需要以何种顺序解码该实体消息才能获得原始荷载格式。Content-Encoding 主要用于在不丢失原媒体类型内容的情况下压缩消息数据。</p> <div class="language- extra-class"><pre class="language-text"><code>Content-Encoding: gzip
Content-Encoding: compress
Content-Encoding: deflate
Content-Encoding: br
</code></pre></div><h3 id="_10-4-content-language"><a href="#_10-4-content-language" class="header-anchor">#</a> 10.4 Content-Language</h3> <p>用来说明访问者希望采用的语言或语言组合，这样的话用户就可以根据自己偏好的语言来定制不同的内容。</p> <h3 id="_10-5-content-location"><a href="#_10-5-content-location" class="header-anchor">#</a> 10.5 Content-Location</h3> <p><strong><code>Content-Location</code></strong> 首部指定的是要返回的数据的地址选项。最主要的用途是用来指定要访问的资源经过<strong>内容协商</strong>后的结果的 URL。</p> <h2 id="_11、重定向"><a href="#_11、重定向" class="header-anchor">#</a> 11、重定向</h2> <h3 id="_11-1-location"><a href="#_11-1-location" class="header-anchor">#</a> 11.1 Location</h3> <p><strong><code>Location</code></strong> 首部指定的是需要将页面重新定向至的地址。一般在响应码为 3xx 的响应中才会有意义。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">6/29/2023, 4:30:58 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/./cors/" class="prev">
        跨域问题
      </a></span> <span class="next"><a href="/./ts1/">
        TypeScript-基础类型
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="./assets/js/app.e7c186d1.js" defer></script><script src="./assets/js/2.0202d757.js" defer></script><script src="./assets/js/75.6be361ca.js" defer></script>
  </body>
</html>
